# --- Path and Environment Variables ---

# Add .NET tools for Unity to PATH
export PATH="$PATH:/home/kblack0610/.dotnet/tools"

# Add custom directories to PATH
export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/.local/bin:$HOME/Utilities:$PATH"
export PATH="$PATH:$HOME/.maestro/bin"
export PATH="$PATH:$HOME/.spicetify"

# Set up local NPM packages
export NPM_PACKAGES="$HOME/.npm-packages"
export NODE_PATH="$NPM_PACKAGES/lib/node_modules:$NODE_PATH"
export NODE_ENV=development
export PATH="$NPM_PACKAGES/bin:$PATH"
unset MANPATH
export MANPATH="$NPM_PACKAGES/share/man:$(manpath)"

# Detect OS and set appropriate base paths
if [[ "$OSTYPE" == "darwin"* ]]; then
    # macOS
    LIBRARY_BASE="$HOME/Library"
elif [[ "$OSTYPE" == "linux-gnu"* ]]; then
    # Linux
    LIBRARY_BASE="$HOME/.local/share"
fi

# Set up Android SDK
export ANDROID_HOME=$LIBRARY_BASE/Android/sdk
export PATH="$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH"

# Set up Java (Zulu JDK)
export JAVA_HOME=$LIBRARY_BASE/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home

# Other environment variables
export MANPAGER='/usr/sbin/nvim +Man!'
export MANWIDTH=999
export XDG_CONFIG_HOME="$HOME/.config"

# Add Go to the PATH if it's installed.
if [ -d "/usr/local/go/bin" ]; then
    export PATH=$PATH:/usr/local/go/bin
fi

# Rust? (might remove)
. "$HOME/.cargo/env"

# --- Sourcing Scripts ---

# # Display a fortune cookie if cowsay is available.
if [ -x /usr/games/cowsay -a -x /usr/games/fortune ]; then
    fortune | cowsay
elif [ -x /usr/sbin/cowsay -a -x /usr/sbin/fortune ]; then
    fortune | cowsay
elif [ -x /opt/homebrew/bin/cowsay -a -x /opt/homebrew/bin/fortune ]; then
    fortune | cowsay
fi

# --- Aliases ---

# General purpose aliases
alias nvr="nvr . -s"
alias t="tmux"
alias z="zellij --layout hub"
alias n="nvim ."
alias g="git"
alias vi="nvim --listen /tmp/nvim-server.pipe"
alias refreshfontcache="fc-cache -fv"
alias e="exit"
alias lg="lazygit"
alias sysz="$HOME/.bin/sysz"
alias python="/usr/bin/python3"
alias o="nvim $HOME/.notes"

# Aliases for specific tools and scripts
alias f=". $HOME/.local/src/term_scripts/fzf_dev.sh"
alias h=". $HOME/.local/src/term_scripts/fzf_history.sh"
alias killUnity="kill -9 $(pgrep Unity)"

# Aliases for system commands
alias setbright="sudo brightnessctl set "
alias unmute="amixer -D pulse sset Master unmute"
alias setSound="amixer -D pulse sset Master 50%"

# Aliases for specific projects or tasks
alias gametodo="nvim $HOME/.config/life/todos/game_todo"
alias dailylog="cp $HOME/.config/life/templates/daily_log_template $HOME/.config/life/todos/log_$(date +%F)"
alias unitylaptop="env GDK_SCALE=2 ./Unity/Hub/Editor/2022.3.20f1/Editor/Unity -projectPath Games/DodginBalls/"
#
# if command -v tmux &> /dev/null && [ -n "$PS1" ] && [[ ! "$TERM" =~ screen ]] && [[ ! "$TERM" =~ tmux ]] && [ -z "$TMUX" ]; then
#   exec tmux
# fi
